{"ast":null,"code":"var createPayload = require('../util/create-payload.js');\nmodule.exports = SubProvider;\n\n// this is the base class for a subprovider -- mostly helpers\n\nfunction SubProvider() {}\nSubProvider.prototype.setEngine = function (engine) {\n  var self = this;\n  if (self.engine) return;\n  self.engine = engine;\n  engine.on('block', function (block) {\n    self.currentBlock = block;\n  });\n  engine.on('start', function () {\n    self.start();\n  });\n  engine.on('stop', function () {\n    self.stop();\n  });\n};\nSubProvider.prototype.handleRequest = function (payload, next, end) {\n  throw new Error('Subproviders should override `handleRequest`.');\n};\nSubProvider.prototype.emitPayload = function (payload, cb) {\n  var self = this;\n  self.engine.sendAsync(createPayload(payload), cb);\n};\n\n// dummies for overriding\n\nSubProvider.prototype.stop = function () {};\nSubProvider.prototype.start = function () {};","map":null,"metadata":{},"sourceType":"script"}